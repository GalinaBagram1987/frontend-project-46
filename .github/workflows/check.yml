# file: .github/workflows/check.yml
name: test project 2(frontend-project-46)
# on – определяет события, которые запускают воркфлоу
on: push
jobs:
  # build – произвольно выбранное имя задания
  # их может быть больше одного
  # операционная система для работы воркфлоу
  build:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [ubuntu-latest, macos-latest]
      steps: # список шагов, которые надо выполнить
        # экшен — выполняет какую-то задачу
        # checkout — клонирует репозиторий
        # Клонируем репозиторий
        - uses: actions/checkout@4
          # Устанавливаем Node.js
        - uses: actions/setup-node@v4
        # run – произвольная bash-команда
        # Ставим зависимости
        - name: npm install
          run: make install
        - name: run linter
          run: make lint
          # run: npm run lint
        - name: run tests
          run: npm test
      # - name: Test & publish code coverage
      #   # Publish code coverage on Code Climate
      #   # https://github.com/paambaati/codeclimate-action
      #   uses: paambaati/codeclimate-action@v5.0.0
      #   # Add Code Climate secret key
      #   env:
      #     CC_TEST_REPORTER_ID: ${{ secrets.CC_TEST_REPORTER_ID }}
      #   with:
      #     coverageCommand: make test-coverage
      #     debug: true
